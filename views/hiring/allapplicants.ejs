<% layout("/layouts/boilerplate")%>
<%- include("../layouts/layout.ejs") %>

<div class="row mt-5 d-flex justify-content-center">
  <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4 bg-light">
          <div class="card-body text-center py-4">
              <h3 class="fw-bold text-primary">All Applications</h3>
              <h5 class="card-title display-5 text-dark"><%= applicantCount %></h5>
              <p class="text-muted">Total number of applicants received</p>
          </div>
      </div>
  </div>
</div>

<% if (applicantCount === 0) { %>
    <!-- No Applications Message -->
    <div class="no-applications-card text-center mt-5">
        <img src="https://cdn-icons-png.flaticon.com/512/2748/2748558.png" alt="No Applications Icon" width="150">
        <h2>No Applications Received</h2>
        <p>Currently, there are no applications submitted.</p>
        <p>Please check back later.</p>
    </div>
<% } else { %>
    <div class="row mt-5">
        <% applicants.forEach(applicant => { %>
        <div class="col-md-4 mb-4">
            <div class="card shadow-lg border-0 rounded-4 bg-light">
                <div class="card-header bg-primary text-white fw-bold text-center">
                    Applicant Details
                </div>
                <div class="card-body text-center py-4">
                    <h5 class="card-title fw-bold text-dark"><%= applicant.userName %></h5>
                    
                    <p class="card-text"><i class="fas fa-user text-primary"></i> <strong>Age:</strong> <%= applicant.age %></p>                    
                    <p class="card-text"><i class="fas fa-phone-alt text-success"></i> <strong>Mobile:</strong> <%= applicant.mob_no %></p>
                    
                    <p class="card-text"><i class="fas fa-map-marker-alt text-danger"></i> <strong>Location:</strong> <%= applicant.location.district %>, <%= applicant.location.state %></p>
                    
                    <p class="card-text"><i class="fas fa-calendar-alt text-info"></i> <strong>Applied On:</strong> <%= applicant.appliedDate.toLocaleDateString() %></p>
                </div>

            </div>
        </div>
    <% }); %>

    </div>
<% } %>
