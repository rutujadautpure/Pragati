<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products</title>
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="../../public/img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <link href="../../public/lib/animate/animate.min.css" rel="stylesheet">
    <link href="../../public/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <script src="/js/jquery.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>

    <%- include("../layouts/layout.ejs") %>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #333;
            margin: 40px 0;
        }

        .navbar {
            background-color: #06BBCC;
            padding: 10px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar a {
            color: #2e8287;
            text-decoration: none;
            padding: 10px;
            margin-right: 20px;
        }

        /* .navbar a:hover {
            background-color: #06BBCC;
        } */

        .search-bar {
            display: flex;
            align-items: center;
        }

        .search-bar input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 10px;
        }

        .search-bar select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .search-bar button {
            padding: 8px 15px;
            background-color: #2e8287;
            color: white;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .search-bar button:hover {
            background-color: #0591a0;
            transform: scale(1.05);
        }

        .card-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: auto;
        }

        .card {
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
            background-color: #fff;
            text-align: center;
        }

        .card-img-top {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #ddd;
        }

        .card-body {
            padding: 15px;
        }

        .card-title {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: #333;
        }

        .card-text {
            font-size: 1em;
            color: #666;
            margin-bottom: 15px;
        }

        .btn {
            padding: 10px 15px;
            background-color: #47999d;
            color: whitesmoke;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            font-size: 1em;
            font-weight: bold;
            display: inline-block;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .btn:hover {
            background-color: #2e8287bc;
            color: whitesmoke;
            transform: scale(1.05);
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
        <a href="index.html" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
            <img src="/img/Pragati_logo.png" alt="Logo" style="height: 40px; width: auto; margin-right: 10px;">
            <h2 class="m-0 text-primary">Pragati</h2>
        </a>
        <div id="google_translate_element"></div>
        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto p-4 p-lg-0">
                <a href="/" class="nav-item nav-link active">Home</a>
                <!-- <a href="courses.html" class="nav-item nav-link">Courses</a> -->
                <a href="/auth/login" class="nav-item nav-link">Login</a>
                <a href="/allProducts" class="nav-item nav-link">All products</a>
                <!-- <a href="contact.html" class="nav-item nav-link">Contact</a> -->
            </div>
           
        </div>
    </nav>


<!-- Navbar -->
<div class="navbar" style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background-color: #cbebf3;">
    <div class="logo">
    </div>

    <form class="search-bar" action="/allProducts" method="GET" style="display: flex; gap: 10px; align-items: center;">
        <input type="text" name="search" placeholder="Search by name..." value="<%= search %>" style="padding: 5px; width: 200px;" />

        <select name="category" style="padding: 5px;">
            <option value="">Select Category</option>
            <% [
                "Fashion, Handicraft and Luggage",
                "Home Decor, Furniture and Hardware",
                "Electrical, Electronics and Software",
                "Books, Office Supplies and Madla",
                "Personal Care Health and Beauty",
                "Sports, Hobbies, Toys and Events",
                "Others and Services",
                "Food and Beverage",
                "Automotive",
                "Real Estate",
                "Health and Wellness",
                "Education and Training",
                "Travel and Tourism",
                "Entertainment and Media",
                "Pet Supplies and Services",
                "Financial Services",
                "Technology and Gadgets",
                "Art and Craft",
                "Construction and Renovation",
                "Business Services"
            ].forEach(cat => { %>
                <option value="<%= cat %>" <%= category === cat ? 'selected' : '' %>><%= cat %></option>
            <% }) %>
        </select>

        <button type="submit" style="padding: 5px 10px;">Search</button>
    </form>
</div>

<!-- Page Title -->
<h1>All Products</h1>

<!-- Product Cards -->
<div class="card-group">
    <% products.forEach(product => { %>
        <div class="card">
            <% if (product.images && product.images.length > 0) { %>
                <img src="<%= product.images[0] %>" alt="Product Image" class="card-img-top">
            <% } else { %>
                <img src="https://res.cloudinary.com/<cloud_name>/image/upload/v_default-product.jpg" 
                     alt="Default Product Image" class="card-img-top">
            <% } %>
            
            <div class="card-body">
                <h5 class="card-title"><%= product.name %></h5>
                <p class="card-text"><strong>Price:</strong> â‚¹<%= product.price %></p>
                <a href="/product/<%= product._id %>" class="btn">View Details</a>
            </div>
        </div>
    <% }); %>
</div>

</body>
</html>
